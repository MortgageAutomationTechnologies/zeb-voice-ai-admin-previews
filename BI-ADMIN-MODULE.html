<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The BIG AI - Admin Portal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f7fa;
            color: #1e293b;
        }
        
        .container {
            display: flex;
            height: 100vh;
        }
        
        .sidebar {
            width: 260px;
            background: white;
            border-right: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
            box-shadow: 2px 0 4px rgba(0,0,0,0.05);
        }
        
        .sidebar-header {
            padding: 24px 20px;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .logo {
            display: flex;
            flex-direction: column;
            gap: 2px;
            font-weight: 700;
            color: #1e293b;
        }
        
        .logo-main {
            font-size: 20px;
            color: #000;
        }
        
        .logo-sub {
            font-size: 14px;
            color: #ff3030;
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        
        .logo-admin {
            font-size: 12px;
            color: #64748b;
            font-weight: 500;
            margin-top: 4px;
        }
        
        .nav-menu {
            flex: 1;
            padding: 20px 0;
        }
        
        .nav-item {
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.2s;
            border-left: 3px solid transparent;
            font-size: 14px;
            font-weight: 500;
            color: #64748b;
        }
        
        .nav-item:hover {
            background: #f8fafc;
            color: #475569;
        }
        
        .nav-item.active {
            background: #f1f5f9;
            color: #2563eb;
            border-left-color: #2563eb;
        }
        
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .header {
            background: white;
            padding: 20px 30px;
            border-bottom: 1px solid #e2e8f0;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .header-title {
            font-size: 24px;
            font-weight: 600;
            color: #1e293b;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
            color: #64748b;
            font-size: 14px;
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            background: #e2e8f0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #64748b;
        }
        
        .content-area {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
        }
        
        .section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            margin-bottom: 24px;
        }
        
        .section-header {
            padding: 24px 24px 0;
            border-bottom: 1px solid #f1f5f9;
            margin-bottom: 24px;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 8px;
        }
        
        .section-subtitle {
            font-size: 14px;
            color: #64748b;
            margin-bottom: 24px;
        }
        
        .section-content {
            padding: 0 24px 24px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: #374151;
            margin-bottom: 6px;
        }
        
        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.2s;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        
        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .form-select {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            background: white;
        }
        
        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: #2563eb;
            color: white;
        }
        
        .btn-primary:hover {
            background: #1d4ed8;
        }
        
        .btn-danger {
            background: #dc2626;
            color: white;
        }
        
        .btn-danger:hover {
            background: #b91c1c;
        }
        
        .btn-secondary {
            background: #f8fafc;
            color: #475569;
            border: 1px solid #e2e8f0;
        }
        
        .btn-secondary:hover {
            background: #f1f5f9;
        }
        
        .guardrail-item {
            padding: 16px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .guardrail-content {
            flex: 1;
        }
        
        .guardrail-title {
            font-weight: 500;
            color: #1e293b;
            margin-bottom: 4px;
        }
        
        .guardrail-description {
            font-size: 14px;
            color: #64748b;
        }
        
        .guardrail-actions {
            display: flex;
            gap: 8px;
        }
        
        .field-mapping {
            display: grid;
            grid-template-columns: 2fr 2fr 1fr auto;
            gap: 12px;
            align-items: center;
            padding: 12px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            margin-bottom: 8px;
        }
        
        .field-mapping.header {
            background: #f8fafc;
            font-weight: 600;
            color: #374151;
        }
        
        .compliance-alert {
            background: #fef2f2;
            border: 1px solid #fecaca;
            border-radius: 8px;
            padding: 12px 16px;
            margin-bottom: 16px;
            color: #991b1b;
            font-size: 14px;
            display: none;
        }
        
        .compliance-alert.show {
            display: block;
        }
        
        .compliance-icon {
            color: #dc2626;
            margin-right: 8px;
        }
        
        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .status-compliant {
            background: #dcfce7;
            color: #166534;
        }
        
        .status-warning {
            background: #fef3c7;
            color: #92400e;
        }
        
        .status-violation {
            background: #fecaca;
            color: #991b1b;
        }
        
        .tabs {
            display: flex;
            border-bottom: 1px solid #e2e8f0;
            margin-bottom: 24px;
        }
        
        .tab {
            padding: 12px 16px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            font-weight: 500;
            color: #64748b;
            transition: all 0.2s;
        }
        
        .tab:hover {
            color: #475569;
        }
        
        .tab.active {
            color: #2563eb;
            border-bottom-color: #2563eb;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .search-box {
            position: relative;
            margin-bottom: 20px;
        }
        
        .search-input {
            width: 100%;
            padding: 12px 16px 12px 40px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
        }
        
        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #9ca3af;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-main">The BIG</div>
                    <div class="logo-sub">AI</div>
                    <div class="logo-admin">Admin Portal</div>
                </div>
            </div>
            <div class="nav-menu">
                <div class="nav-item active" onclick="switchSection('guardrails')">
                    üõ°Ô∏è Guardrails Management
                </div>
                <div class="nav-item" onclick="switchSection('fields')">
                    üîó Field Access Control
                </div>
                <div class="nav-item" onclick="switchSection('compliance')">
                    üìã Compliance Monitoring
                </div>
                <div class="nav-item" onclick="switchSection('audit')">
                    üìä Audit Logs
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="header">
                <div class="header-content">
                    <div class="header-title">The BIG AI - Admin Portal</div>
                    <div class="user-info">
                        <div class="user-avatar">üë§</div>
                        <div>
                            <div style="font-weight: 500;">System Administrator</div>
                            <div style="font-size: 12px;">admin@company.com</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="content-area">
                <!-- Guardrails Management Section -->
                <div id="guardrails-section">
                    <div class="section">
                        <div class="section-header">
                            <div class="section-title">Content Guardrails Management</div>
                            <div class="section-subtitle">Configure AI safety guardrails to prevent inappropriate content and protect against HR liability</div>
                        </div>
                        <div class="section-content">
                            <div class="tabs">
                                <div class="tab active" onclick="switchTab('default-guardrails')">Default Guardrails</div>
                                <div class="tab" onclick="switchTab('custom-guardrails')">Custom Guardrails</div>
                                <div class="tab" onclick="switchTab('add-guardrail')">Add New Guardrail</div>
                            </div>

                            <div id="default-guardrails" class="tab-content active">
                                <div class="guardrail-item">
                                    <div class="guardrail-content">
                                        <div class="guardrail-title">Drug-Related Content</div>
                                        <div class="guardrail-description">Blocks discussions about illegal drugs, drug use, or drug-related activities</div>
                                    </div>
                                    <div class="guardrail-actions">
                                        <span class="status-badge status-compliant">Active</span>
                                    </div>
                                </div>

                                <div class="guardrail-item">
                                    <div class="guardrail-content">
                                        <div class="guardrail-title">Offensive Language</div>
                                        <div class="guardrail-description">Prevents use of profanity, hate speech, and discriminatory language</div>
                                    </div>
                                    <div class="guardrail-actions">
                                        <span class="status-badge status-compliant">Active</span>
                                    </div>
                                </div>

                                <div class="guardrail-item">
                                    <div class="guardrail-content">
                                        <div class="guardrail-title">Sexual Content</div>
                                        <div class="guardrail-description">Blocks sexually explicit content and inappropriate sexual references</div>
                                    </div>
                                    <div class="guardrail-actions">
                                        <span class="status-badge status-compliant">Active</span>
                                    </div>
                                </div>

                                <div class="guardrail-item">
                                    <div class="guardrail-content">
                                        <div class="guardrail-title">Political Figures & Positions</div>
                                        <div class="guardrail-description">Avoids political discussions and commentary on political figures</div>
                                    </div>
                                    <div class="guardrail-actions">
                                        <span class="status-badge status-compliant">Active</span>
                                    </div>
                                </div>

                                <div class="guardrail-item">
                                    <div class="guardrail-content">
                                        <div class="guardrail-title">Sensitive Historical Subjects</div>
                                        <div class="guardrail-description">Restricts discussions of controversial historical events and figures</div>
                                    </div>
                                    <div class="guardrail-actions">
                                        <span class="status-badge status-compliant">Active</span>
                                    </div>
                                </div>
                            </div>

                            <div id="custom-guardrails" class="tab-content">
                                <div class="search-box">
                                    <div class="search-icon">üîç</div>
                                    <input type="text" class="search-input" placeholder="Search custom guardrails...">
                                </div>

                                <div class="guardrail-item">
                                    <div class="guardrail-content">
                                        <div class="guardrail-title">Company Confidential Information</div>
                                        <div class="guardrail-description">Prevents disclosure of proprietary business information and trade secrets</div>
                                    </div>
                                    <div class="guardrail-actions">
                                        <button class="btn btn-secondary">Edit</button>
                                        <button class="btn btn-danger">Remove</button>
                                    </div>
                                </div>

                                <div class="guardrail-item">
                                    <div class="guardrail-content">
                                        <div class="guardrail-title">Personal Medical Information</div>
                                        <div class="guardrail-description">Blocks requests for medical advice or sharing of personal health information</div>
                                    </div>
                                    <div class="guardrail-actions">
                                        <button class="btn btn-secondary">Edit</button>
                                        <button class="btn btn-danger">Remove</button>
                                    </div>
                                </div>
                            </div>

                            <div id="add-guardrail" class="tab-content">
                                <div class="form-group">
                                    <label class="form-label">Guardrail Name</label>
                                    <input type="text" class="form-input" placeholder="Enter guardrail name">
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Category</label>
                                    <select class="form-select">
                                        <option>Select category</option>
                                        <option>Content Safety</option>
                                        <option>Data Privacy</option>
                                        <option>Legal Compliance</option>
                                        <option>HR Liability</option>
                                        <option>Custom</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Description</label>
                                    <textarea class="form-input form-textarea" placeholder="Describe what this guardrail prevents or controls"></textarea>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Keywords/Phrases to Block</label>
                                    <textarea class="form-input form-textarea" placeholder="Enter keywords or phrases (comma-separated)"></textarea>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Response When Triggered</label>
                                    <textarea class="form-input form-textarea" placeholder="What should the AI respond when this guardrail is triggered?"></textarea>
                                </div>

                                <button class="btn btn-primary">Create Guardrail</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Field Access Control Section -->
                <div id="fields-section" class="hidden">
                    <div class="section">
                        <div class="section-header">
                            <div class="section-title">Field Access Control</div>
                            <div class="section-subtitle">Configure which Encompass LOS fields the AI can access through The BIG POS integration</div>
                        </div>
                        <div class="section-content">
                            <div class="compliance-alert" id="regc-alert">
                                <span class="compliance-icon">‚ö†Ô∏è</span>
                                <strong>Regulation C Compliance Warning:</strong> The field you're trying to add is outside HMDA LAR data constraints. Please review compliance requirements.
                            </div>

                            <div class="tabs">
                                <div class="tab active" onclick="switchTab('native-fields')">Native Fields</div>
                                <div class="tab" onclick="switchTab('custom-fields')">Custom Fields</div>
                                <div class="tab" onclick="switchTab('add-field')">Add Field</div>
                            </div>

                            <div id="native-fields" class="tab-content active">
                                <div class="search-box">
                                    <div class="search-icon">üîç</div>
                                    <input type="text" class="search-input" placeholder="Search native fields..." oninput="filterFields(this.value)">
                                </div>

                                <div class="field-mapping header">
                                    <div>Field Name</div>
                                    <div>Encompass Field ID</div>
                                    <div>Compliance Status</div>
                                    <div>Actions</div>
                                </div>

                                <div class="field-mapping" data-field="loan-number">
                                    <div>Loan Number</div>
                                    <div>364</div>
                                    <div><span class="status-badge status-compliant">Compliant</span></div>
                                    <div><button class="btn btn-secondary">Edit</button></div>
                                </div>

                                <div class="field-mapping" data-field="borrower-name">
                                    <div>Borrower First Name</div>
                                    <div>4000</div>
                                    <div><span class="status-badge status-warning">PII Warning</span></div>
                                    <div><button class="btn btn-secondary">Edit</button></div>
                                </div>

                                <div class="field-mapping" data-field="loan-amount">
                                    <div>Base Loan Amount</div>
                                    <div>1109</div>
                                    <div><span class="status-badge status-compliant">Compliant</span></div>
                                    <div><button class="btn btn-secondary">Edit</button></div>
                                </div>

                                <div class="field-mapping" data-field="property-address">
                                    <div>Subject Property Street</div>
                                    <div>URLA.X73</div>
                                    <div><span class="status-badge status-compliant">Compliant</span></div>
                                    <div><button class="btn btn-secondary">Edit</button></div>
                                </div>

                                <div class="field-mapping" data-field="loan-purpose">
                                    <div>Loan Purpose</div>
                                    <div>19</div>
                                    <div><span class="status-badge status-compliant">Compliant</span></div>
                                    <div><button class="btn btn-secondary">Edit</button></div>
                                </div>

                                <div class="field-mapping" data-field="occupancy-type">
                                    <div>Occupancy Type</div>
                                    <div>1811</div>
                                    <div><span class="status-badge status-compliant">Compliant</span></div>
                                    <div><button class="btn btn-secondary">Edit</button></div>
                                </div>

                                <div class="field-mapping" data-field="property-type">
                                    <div>Property Type</div>
                                    <div>1041</div>
                                    <div><span class="status-badge status-compliant">Compliant</span></div>
                                    <div><button class="btn btn-secondary">Edit</button></div>
                                </div>

                                <div class="field-mapping" data-field="loan-status">
                                    <div>Current Loan Status</div>
                                    <div>1393</div>
                                    <div><span class="status-badge status-compliant">Compliant</span></div>
                                    <div><button class="btn btn-secondary">Edit</button></div>
                                </div>

                                <div class="field-mapping" data-field="loan-officer">
                                    <div>Loan Officer Name</div>
                                    <div>317</div>
                                    <div><span class="status-badge status-compliant">Compliant</span></div>
                                    <div><button class="btn btn-secondary">Edit</button></div>
                                </div>

                                <div class="field-mapping" data-field="rate">
                                    <div>Interest Rate</div>
                                    <div>3</div>
                                    <div><span class="status-badge status-compliant">Compliant</span></div>
                                    <div><button class="btn btn-secondary">Edit</button></div>
                                </div>
                            </div>

                            <div id="custom-fields" class="tab-content">
                                <div class="search-box">
                                    <div class="search-icon">üîç</div>
                                    <input type="text" class="search-input" placeholder="Search custom fields...">
                                </div>

                                <div class="field-mapping">
                                    <div>Custom Marketing Source</div>
                                    <div>CX.CUSTOM.MARKETING</div>
                                    <div><span class="status-badge status-compliant">Compliant</span></div>
                                    <div>
                                        <button class="btn btn-secondary">Edit</button>
                                        <button class="btn btn-danger">Remove</button>
                                    </div>
                                </div>

                                <div class="field-mapping">
                                    <div>Internal Notes</div>
                                    <div>CX.INTERNAL.NOTES</div>
                                    <div><span class="status-badge status-warning">Review Required</span></div>
                                    <div>
                                        <button class="btn btn-secondary">Edit</button>
                                        <button class="btn btn-danger">Remove</button>
                                    </div>
                                </div>
                            </div>

                            <div id="add-field" class="tab-content">
                                <div class="form-group">
                                    <label class="form-label">Field Display Name</label>
                                    <input type="text" class="form-input" placeholder="Enter field display name">
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Encompass Field ID</label>
                                    <input type="text" class="form-input" id="field-id-input" placeholder="Enter Encompass field ID" oninput="checkRegulationC(this.value)">
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Data Type</label>
                                    <select class="form-select">
                                        <option>Select data type</option>
                                        <option>Text</option>
                                        <option>Number</option>
                                        <option>Date</option>
                                        <option>Boolean</option>
                                        <option>Currency</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Access Level</label>
                                    <select class="form-select">
                                        <option>Read-Only</option>
                                        <option>Read-Write</option>
                                        <option>Admin Only</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Description</label>
                                    <textarea class="form-input form-textarea" placeholder="Describe this field and its usage"></textarea>
                                </div>

                                <button class="btn btn-primary">Add Field</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Compliance Monitoring Section -->
                <div id="compliance-section" class="hidden">
                    <div class="section">
                        <div class="section-header">
                            <div class="section-title">Regulation C Compliance Monitoring</div>
                            <div class="section-subtitle">Monitor HMDA LAR data field compliance and violations</div>
                        </div>
                        <div class="section-content">
                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 24px;">
                                <div style="padding: 20px; background: #f0fdf4; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 24px; font-weight: 600; color: #166534;">142</div>
                                    <div style="color: #166534;">Compliant Fields</div>
                                </div>
                                <div style="padding: 20px; background: #fefce8; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 24px; font-weight: 600; color: #ca8a04;">8</div>
                                    <div style="color: #ca8a04;">Warning Fields</div>
                                </div>
                                <div style="padding: 20px; background: #fef2f2; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 24px; font-weight: 600; color: #dc2626;">2</div>
                                    <div style="color: #dc2626;">Violation Fields</div>
                                </div>
                            </div>
                            
                            <div class="field-mapping header">
                                <div>Field Name</div>
                                <div>HMDA Compliance Status</div>
                                <div>Risk Level</div>
                                <div>Actions</div>
                            </div>

                            <div class="field-mapping">
                                <div>Borrower SSN</div>
                                <div><span class="status-badge status-violation">HMDA Violation</span></div>
                                <div><span class="status-badge status-violation">High Risk</span></div>
                                <div><button class="btn btn-danger">Review Required</button></div>
                            </div>

                            <div class="field-mapping">
                                <div>Credit Score Details</div>
                                <div><span class="status-badge status-warning">Partial Compliance</span></div>
                                <div><span class="status-badge status-warning">Medium Risk</span></div>
                                <div><button class="btn btn-secondary">Review</button></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Audit Logs Section -->
                <div id="audit-section" class="hidden">
                    <div class="section">
                        <div class="section-header">
                            <div class="section-title">Audit Logs</div>
                            <div class="section-subtitle">Track all admin actions and system changes</div>
                        </div>
                        <div class="section-content">
                            <div class="search-box">
                                <div class="search-icon">üîç</div>
                                <input type="text" class="search-input" placeholder="Search audit logs...">
                            </div>

                            <div style="margin-bottom: 20px;">
                                <select class="form-select" style="width: 200px; display: inline-block; margin-right: 12px;">
                                    <option>All Actions</option>
                                    <option>Guardrail Changes</option>
                                    <option>Field Access Changes</option>
                                    <option>User Management</option>
                                    <option>Compliance Violations</option>
                                </select>
                                <select class="form-select" style="width: 150px; display: inline-block;">
                                    <option>Last 7 days</option>
                                    <option>Last 30 days</option>
                                    <option>Last 90 days</option>
                                    <option>Custom range</option>
                                </select>
                            </div>

                            <div style="background: #f8fafc; border-radius: 8px; overflow: hidden;">
                                <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr 1fr; gap: 16px; padding: 16px; background: #e2e8f0; font-weight: 600; color: #374151;">
                                    <div>Action</div>
                                    <div>User</div>
                                    <div>Type</div>
                                    <div>Status</div>
                                    <div>Timestamp</div>
                                </div>

                                <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr 1fr; gap: 16px; padding: 16px; border-bottom: 1px solid #e2e8f0;">
                                    <div>Added custom guardrail: "Company Confidential Information"</div>
                                    <div>admin@company.com</div>
                                    <div><span class="status-badge status-compliant">Guardrail</span></div>
                                    <div><span class="status-badge status-compliant">Success</span></div>
                                    <div>2 hours ago</div>
                                </div>

                                <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr 1fr; gap: 16px; padding: 16px; border-bottom: 1px solid #e2e8f0;">
                                    <div>Attempted to add field "BORROWER_SSN_FULL" - Blocked by Reg C</div>
                                    <div>admin@company.com</div>
                                    <div><span class="status-badge status-violation">Field Access</span></div>
                                    <div><span class="status-badge status-violation">Blocked</span></div>
                                    <div>4 hours ago</div>
                                </div>

                                <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr 1fr; gap: 16px; padding: 16px; border-bottom: 1px solid #e2e8f0;">
                                    <div>Modified field access: "Loan Officer Email" - Set to Admin Only</div>
                                    <div>admin@company.com</div>
                                    <div><span class="status-badge status-warning">Field Access</span></div>
                                    <div><span class="status-badge status-compliant">Success</span></div>
                                    <div>1 day ago</div>
                                </div>

                                <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr 1fr; gap: 16px; padding: 16px; border-bottom: 1px solid #e2e8f0;">
                                    <div>Guardrail triggered: "Offensive Language" - User query blocked</div>
                                    <div>System</div>
                                    <div><span class="status-badge status-warning">Guardrail</span></div>
                                    <div><span class="status-badge status-compliant">Blocked</span></div>
                                    <div>2 days ago</div>
                                </div>

                                <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr 1fr; gap: 16px; padding: 16px;">
                                    <div>System backup completed successfully</div>
                                    <div>System</div>
                                    <div><span class="status-badge status-compliant">System</span></div>
                                    <div><span class="status-badge status-compliant">Success</span></div>
                                    <div>3 days ago</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Regulation C HMDA LAR Fields - Based on the attached HMDA documentation
        const regulationCFields = [
            'activity_year', 'lei', 'derived_msa-md', 'state_code', 'county_code', 'census_tract',
            'derived_loan_product_type', 'derived_dwelling_category', 'conforming_loan_limit',
            'derived_ethnicity', 'derived_race', 'derived_sex', 'action_taken', 'purchaser_type',
            'preapproval', 'loan_type', 'loan_purpose', 'lien_status', 'reverse_mortgage',
            'open-end_line_of_credit', 'business_or_commercial_purpose', 'loan_amount',
            'combined_loan_to_value_ratio', 'interest_rate', 'rate_spread', 'hoepa_status',
            'total_loan_costs', 'total_points_and_fees', 'origination_charges', 'discount_points',
            'lender_credits', 'loan_term', 'prepayment_penalty_term', 'intro_rate_period',
            'negative_amortization', 'interest_only_payment', 'balloon_payment',
            'other_nonamortizing_features', 'property_value', 'construction_method',
            'occupancy_type', 'manufactured_home_secured_property_type',
            'manufactured_home_land_property_interest', 'total_units', 'multifamily_affordable_units',
            'income', 'debt_to_income_ratio', 'applicant_credit_score_type', 'co-applicant_credit_score_type',
            'applicant_age_above_62', 'co-applicant_age_above_62', 'submission_of_application',
            'initially_payable_to_institution', 'aus-1', 'aus-2', 'aus-3', 'aus-4', 'aus-5',
            'denial_reason-1', 'denial_reason-2', 'denial_reason-3', 'denial_reason-4'
        ];

        function switchSection(sectionName) {
            // Hide all sections
            const sections = ['guardrails-section', 'fields-section', 'compliance-section', 'audit-section'];
            sections.forEach(section => {
                document.getElementById(section).classList.add('hidden');
            });
            
            // Show selected section
            document.getElementById(sectionName + '-section').classList.remove('hidden');
            
            // Update navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Find and activate the clicked nav item
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                if (item.textContent.toLowerCase().includes(sectionName)) {
                    item.classList.add('active');
                }
            });
        }

        function switchTab(tabName) {
            // Hide all tab contents in current section
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Update tab navigation - find the parent tab container and update
            const allTabs = document.querySelectorAll('.tab');
            allTabs.forEach(tab => {
                tab.classList.remove('active');
                if (tab.onclick && tab.onclick.toString().includes(tabName)) {
                    tab.classList.add('active');
                }
            });
        }

        function checkRegulationC(fieldId) {
            const alert = document.getElementById('regc-alert');
            const input = document.getElementById('field-id-input');
            
            // Convert field ID to lowercase for comparison
            const normalizedFieldId = fieldId.toLowerCase().replace(/[^a-z0-9_-]/g, '');
            
            // Check if field is in HMDA LAR data fields
            const isCompliant = regulationCFields.some(field => 
                field.toLowerCase().includes(normalizedFieldId) || 
                normalizedFieldId.includes(field.toLowerCase())
            );
            
            // Check for obviously problematic fields
            const problematicPatterns = ['ssn', 'social_security', 'full_credit', 'bank_account', 'routing'];
            const isProblematic = problematicPatterns.some(pattern => 
                normalizedFieldId.includes(pattern)
            );
            
            if (!isCompliant || isProblematic) {
                alert.classList.add('show');
                input.style.borderColor = '#dc2626';
            } else {
                alert.classList.remove('show');
                input.style.borderColor = '#d1d5db';
            }
        }

        function filterFields(searchTerm) {
            const fields = document.querySelectorAll('.field-mapping[data-field]');
            fields.forEach(field => {
                const text = field.textContent.toLowerCase();
                if (text.includes(searchTerm.toLowerCase())) {
                    field.style.display = 'grid';
                } else {
                    field.style.display = 'none';
                }
            });
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Ensure guardrails section is visible by default
            switchSection('guardrails');
        });
    </script>
</body>
</html>
